<div style="padding: 100px">
  <h1>App2 page</h1>
  <ul>
    <li><a href="../app1/index.html">App1</a></li>
    <li><a href="./index.html">App2</a></li>
    <li><a href="../app3/index.html">App3</a></li>
    <li><a href="../app4/index.html">App4</a></li>
    <li><a href="../app5/index.html">App5</a></li>
  </ul>
</div>

Resources:
  MySSMDocument:
    Type: AWS::SSM::Document
    Properties:
      DocumentType: Command
      Content:
        schemaVersion: "2.2"
        description: "Run a custom script"
        mainSteps:
          - action: aws:runShellScript
            name: RunShellScript
            inputs:
              runCommand:
                - echo "Hello, World"

  ## SNS Topic for Notifications
  SNSTopic:
    Type: AWS::SNS::Topic
    Properties:
      DisplayName: "RDS Provisioning Notifications"
      TopicName: "RDSProvisioning"

  ## SNS Subscription (Email Notification)
  SNSSubscription:
    Type: AWS::SNS::Subscription
    Properties:
      Protocol: "email"
      TopicArn: !Ref SNSTopic
      Endpoint: "your-email@example.com"  # Change to your email

Outputs:
  RDSInstanceEndpoint:
    Description: "RDS SQL Server Endpoint"
    Value: !GetAtt SQLRDSInstance.Endpoint.Address







  


Type: AWS::Lambda::Function
  Properties:
    FunctionName: ExecuteSQLScripts
    Handler: index.lambda_handler
    Runtime: python3.9
    Role: !GetAtt LambdaExecutionRole.Arn
    Code:
      ZipFile: |
        import pymssql
        import boto3
        import os

        def lambda_handler(event, context):
            server = os.getenv("DB_HOST")
            user = os.getenv("DB_USER")
            password = os.getenv("DB_PASS")
            conn = pymssql.connect(server, user, password)
            cursor = conn.cursor()

            sql_script = "CREATE DATABASE my_new_database;"
            cursor.execute(sql_script)
            conn.commit()
            conn.close()
            return {"status": "success"}
    Environment:
      Variables:
        DB_HOST: !GetAtt MyRDSInstance.Endpoint.Address
        DB_USER: "admin"
        DB_PASS: !Sub "{{resolve:secretsmanager:${MySecret}:SecretString:password}}"
